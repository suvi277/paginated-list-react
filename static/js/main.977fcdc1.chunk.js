(this["webpackJsonppaginated-list-react"]=this["webpackJsonppaginated-list-react"]||[]).push([[0],{60:function(e,t,a){e.exports=a(94)},70:function(e,t,a){},88:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),l=a(16),i=a(19),s=a(15),u=a(34),m=a(45),p=a(8),f=a(21),d={isLoaded:!1,books:[],filters:[]};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_BOOKS":return Object(f.a)({},e,{isLoaded:!1});case"BOOKS_LOADED":var a=t.payload.data,n=a.books,r=a.count;return Object(f.a)({},e,{books:n,count:r,filters:t.payload.filters,current_page:t.payload.page,isLoaded:!0});default:return e}}var b=function(e){return Object(s.c)({router:Object(i.b)(e),bookList:E})},h=p.a(),k=[m.a,Object(u.a)(h)],v=s.d.apply(void 0,[s.a.apply(void 0,k)].concat([])),g=Object(s.e)(b(h),{},v),O=a(53),y=a(13),L=a(95),j=(a(70),function(e){var t=e.title;return r.a.createElement("header",null,r.a.createElement(L.a,null,r.a.createElement("h4",{className:"text-white"},r.a.createElement("small",null,t))))}),x=a(24),_=a(25),B=a(54),S=a(48),N=a(55),P=a(98),T=a(51),w=a(100),I=a(99),D=a(49),R=a.n(D),A=a(22),K=new(function(){function e(){Object(x.a)(this,e),this.onError=function(e){switch(e.response.status){case 401:A.a.error("Oops! Authentication Error");break;case 403:A.a.error("Rate Limit Exceeded");break;case 404:A.a.error("Oops! 404 Error");break;default:A.a.error("Oops! Some Internal Error Found")}return Promise.reject(e)};var t=R.a.create();t.interceptors.response.use(this.onSuccess,this.onError),this.service=t}return Object(_.a)(e,[{key:"onSuccess",value:function(e){return e}},{key:"post",value:function(e,t,a){return this.service.post(e,t).then((function(e){return a(e.status,e.data)}))}}]),e}()),C=a(7),F={page:1,itemsPerPage:20,filters:[]},J=(a(88),a(102)),M=function(e){var t=e.book;return r.a.createElement(J.a,{border:"primary"},r.a.createElement(J.a.Body,null,r.a.createElement(J.a.Title,null,t.book_title),r.a.createElement(J.a.Subtitle,{className:"mb-2 text-muted"},t.book_publication_city,", ",t.book_publication_country),r.a.createElement(J.a.Text,null,"Publication Year: ",r.a.createElement("span",{className:"text-info"},t.book_publication_year))))},Q=a(103),U=function(e){var t=e.active,a=e.loadPaginatedList,n=[],o=(e.totalPage,function(e){var t=Number(e.target.text);a(t)});for(var c=1;c<10;c++)n.push(r.a.createElement(Q.a.Item,{key:c,active:c===t,onClick:o},c));return r.a.createElement(Q.a,{className:"float-right"},n)},Y=a(101),q=a(50),z=a(96),G=function(e){var t=e.searchBooks,a=Object(n.useRef)(null);return r.a.createElement(Y.a,null,r.a.createElement(Y.a.Row,null,r.a.createElement(T.a,{xs:9},r.a.createElement(q.a,{ref:a,type:"text",placeholder:"Search"})),r.a.createElement(T.a,null,r.a.createElement(z.a,{variant:"outline-primary",onClick:function(){t(a.current.value)}},"Search"))))},H=a(97),V=(a(91),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(H.a,{animation:"border",variant:"warning"}))}),W=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).loadPaginatedList=function(e){e>1&&a.props.navigateTo(e),a.props.fetchBookList({page:e})},a.searchBooks=function(e){var t=a.props.current_page;a.props.fetchBookList({page:t,searchText:e})},a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.pageId;e=e?Number(e):1,this.loadPaginatedList(e)}},{key:"render",value:function(){var e=this.props,t=e.isLoaded,a=e.current_page,n=e.books,o=e.count;return r.a.createElement("main",{className:"book-list-container"},r.a.createElement(L.a,null,r.a.createElement(P.a,null,r.a.createElement(T.a,{xs:6},r.a.createElement(G,{searchBooks:this.searchBooks})),r.a.createElement(T.a,null,r.a.createElement(U,{loadPaginatedList:this.loadPaginatedList,active:a,totalPage:o}))),!t&&r.a.createElement(V,null),r.a.createElement(I.a,{in:t,timeout:500,classNames:"content",unmountOnExit:!0},r.a.createElement(w.a,null,n.map((function(e,t){return r.a.createElement(M,{key:t,book:e})}))))))}}]),t}(n.Component),X=Object(l.c)((function(e){return{isLoaded:e.bookList.isLoaded,books:e.bookList.books,current_page:e.bookList.current_page,count:e.bookList.count}}),(function(e){return{navigateTo:function(t){return e(function(e){return function(t){return t(Object(C.d)("/book-list/".concat(e)))}}(t))},fetchBookList:function(t){return e(function(e){var t=e.page,a=e.searchText;return a?F.filters.push({type:"all",values:[a]}):F.filters=[],function(a,n){return a({type:"REQUEST_BOOKS"}),K.post("".concat("http://nyx.vima.ekt.gr:3000","/api/books"),{params:Object(f.a)({},F,{},e)},(function(e,n){a(function(e,t,a){return{type:"BOOKS_LOADED",payload:{data:e,page:t,filters:a}}}(n,t,F.filters))}))}}(t))}}}))(W),Z=(a(92),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(L.a,null,r.a.createElement("p",{className:"mb-0 text-white small"},"\xa9 Suvarna Mondal's Test")))});var $=function(e){return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(j,{title:"OnTrack Front End Developer Test"}),r.a.createElement(X,{pageId:e.match.params.pageId}),r.a.createElement(Z,null))};a(93);var ee=function(){return r.a.createElement(O.a,{basename:"/"},r.a.createElement(y.a,{exact:!0,path:"/",component:$}),r.a.createElement(y.a,{path:"/book-list/:pageId",component:$}))};c.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(i.a,{history:h},r.a.createElement(ee,null))),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.977fcdc1.chunk.js.map