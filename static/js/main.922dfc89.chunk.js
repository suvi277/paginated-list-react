(this["webpackJsonppaginated-list-react"]=this["webpackJsonppaginated-list-react"]||[]).push([[0],{59:function(e,t,a){e.exports=a(93)},69:function(e,t,a){},87:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),l=a(16),i=a(19),s=a(14),u=a(34),m=a(45),p=a(12),f=a(21),d={isLoaded:!1,books:[],filters:[]};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_BOOKS":return Object(f.a)({},e,{isLoaded:!1});case"BOOKS_LOADED":var a=t.payload.data,n=a.books,r=a.count;return Object(f.a)({},e,{books:n,count:r,filters:t.payload.filters,current_page:t.payload.page,isLoaded:!0});default:return e}}var b=function(e){return Object(s.c)({router:Object(i.b)(e),bookList:E})},h=p.a(),k=[m.a,Object(u.a)(h)],v=s.d.apply(void 0,[s.a.apply(void 0,k)].concat([])),g=Object(s.e)(b(h),{},v),O=a(15),y=a(94),L=(a(69),function(e){var t=e.title;return r.a.createElement("header",null,r.a.createElement(y.a,null,r.a.createElement("h4",{className:"text-white"},r.a.createElement("small",null,t))))}),j=a(24),x=a(25),_=a(53),B=a(48),S=a(54),N=a(97),P=a(51),T=a(99),w=a(98),I=a(49),D=a.n(I),R=a(22),A=new(function(){function e(){Object(j.a)(this,e),this.onError=function(e){switch(e.response.status){case 401:R.a.error("Oops! Authentication Error");break;case 403:R.a.error("Rate Limit Exceeded");break;case 404:R.a.error("Oops! 404 Error");break;default:R.a.error("Oops! Some Internal Error Found")}return Promise.reject(e)};var t=D.a.create();t.interceptors.response.use(this.onSuccess,this.onError),this.service=t}return Object(x.a)(e,[{key:"onSuccess",value:function(e){return e}},{key:"post",value:function(e,t,a){return this.service.post(e,t).then((function(e){return a(e.status,e.data)}))}}]),e}()),K=a(7),C={page:1,itemsPerPage:20,filters:[]},F=(a(87),a(101)),J=function(e){var t=e.book;return r.a.createElement(F.a,{border:"primary"},r.a.createElement(F.a.Body,null,r.a.createElement(F.a.Title,null,t.book_title),r.a.createElement(F.a.Subtitle,{className:"mb-2 text-muted"},t.book_publication_city,", ",t.book_publication_country),r.a.createElement(F.a.Text,null,"Publication Year: ",r.a.createElement("span",{className:"text-info"},t.book_publication_year))))},M=a(102),Q=function(e){var t=e.active,a=e.loadPaginatedList,n=[],o=(e.totalPage,function(e){var t=Number(e.target.text);a(t)});for(var c=1;c<10;c++)n.push(r.a.createElement(M.a.Item,{key:c,active:c===t,onClick:o},c));return r.a.createElement(M.a,{className:"float-right"},n)},U=a(100),Y=a(50),q=a(95),z=function(e){var t=e.searchBooks,a=Object(n.useRef)(null);return r.a.createElement(U.a,null,r.a.createElement(U.a.Row,null,r.a.createElement(P.a,{xs:9},r.a.createElement(Y.a,{ref:a,type:"text",placeholder:"Search"})),r.a.createElement(P.a,null,r.a.createElement(q.a,{variant:"outline-primary",onClick:function(){t(a.current.value)}},"Search"))))},G=a(96),H=(a(90),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(G.a,{animation:"border",variant:"warning"}))}),V=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).loadPaginatedList=function(e){e>1&&a.props.navigateTo(e),a.props.fetchBookList({page:e})},a.searchBooks=function(e){var t=a.props.current_page;a.props.fetchBookList({page:t,searchText:e})},a}return Object(S.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.pageId;e=e?Number(e):1,this.loadPaginatedList(e)}},{key:"render",value:function(){var e=this.props,t=e.isLoaded,a=e.current_page,n=e.books,o=e.count;return r.a.createElement("main",{className:"book-list-container"},r.a.createElement(y.a,null,r.a.createElement(N.a,null,r.a.createElement(P.a,{xs:6},r.a.createElement(z,{searchBooks:this.searchBooks})),r.a.createElement(P.a,null,r.a.createElement(Q,{loadPaginatedList:this.loadPaginatedList,active:a,totalPage:o}))),!t&&r.a.createElement(H,null),r.a.createElement(w.a,{in:t,timeout:500,classNames:"content",unmountOnExit:!0},r.a.createElement(T.a,null,n.map((function(e,t){return r.a.createElement(J,{key:t,book:e})}))))))}}]),t}(n.Component),W=Object(l.c)((function(e){return{isLoaded:e.bookList.isLoaded,books:e.bookList.books,current_page:e.bookList.current_page,count:e.bookList.count}}),(function(e){return{navigateTo:function(t){return e(function(e){return function(t){return t(Object(K.d)("/book-list/".concat(e)))}}(t))},fetchBookList:function(t){return e(function(e){var t=e.page,a=e.searchText;return a?C.filters.push({type:"all",values:[a]}):C.filters=[],function(a,n){return a({type:"REQUEST_BOOKS"}),A.post("".concat("http://nyx.vima.ekt.gr:3000","/api/books"),{params:Object(f.a)({},C,{},e)},(function(e,n){a(function(e,t,a){return{type:"BOOKS_LOADED",payload:{data:e,page:t,filters:a}}}(n,t,C.filters))}))}}(t))}}}))(V),X=(a(91),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(y.a,null,r.a.createElement("p",{className:"mb-0 text-white small"},"\xa9 Suvarna Mondal's Test")))});var Z=function(e){return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(L,{title:"OnTrack Front End Developer Test"}),r.a.createElement(W,{pageId:e.match.params.pageId}),r.a.createElement(X,null))};a(92);var $=function(){return r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",component:Z}),r.a.createElement(O.a,{path:"/book-list/:pageId",component:Z}))};c.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(i.a,{history:h},r.a.createElement($,null))),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.922dfc89.chunk.js.map