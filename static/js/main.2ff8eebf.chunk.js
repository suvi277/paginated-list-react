(this["webpackJsonppaginated-list-react"]=this["webpackJsonppaginated-list-react"]||[]).push([[0],{56:function(e,t,a){e.exports=a(90)},67:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(17),i=a(19),s=a(14),u=a(35),m=a(46),p=a(13),f=a(16),d={isLoaded:!1,books:[],filters:[]};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_BOOKS":return Object(f.a)(Object(f.a)({},e),{},{isLoaded:!1});case"BOOKS_LOADED":var a=t.payload.data,n=a.books,r=a.count;return Object(f.a)(Object(f.a)({},e),{},{books:n,count:r,filters:t.payload.filters,current_page:t.payload.page,isLoaded:!0});default:return e}}var b=function(e){return Object(s.c)({router:Object(i.b)(e),bookList:E})},h=p.a(),v=[m.a,Object(u.a)(h)],k=s.d.apply(void 0,[s.a.apply(void 0,v)].concat([])),g=Object(s.e)(b(h),{},k),O=a(15),y=a(91),L=(a(67),function(e){var t=e.title;return r.a.createElement("header",null,r.a.createElement(y.a,null,r.a.createElement("h4",{className:"text-white"},r.a.createElement("small",null,t))))}),j=a(25),x=a(26),_=a(52),B=a(51),S=a(94),N=a(50),P=a(95),T=a(98),w=a(48),I=a.n(w),D=a(23),R=new(function(){function e(){Object(j.a)(this,e),this.onError=function(e){switch(e.response.status){case 401:D.a.error("Oops! Authentication Error");break;case 403:D.a.error("Rate Limit Exceeded");break;case 404:D.a.error("Oops! 404 Error");break;default:D.a.error("Oops! Some Internal Error Found")}return Promise.reject(e)};var t=I.a.create();t.interceptors.response.use(this.onSuccess,this.onError),this.service=t}return Object(x.a)(e,[{key:"onSuccess",value:function(e){return e}},{key:"post",value:function(e,t,a){return this.service.post(e,t).then((function(e){return a(e.status,e.data)}))}}]),e}()),A=a(8),K={page:1,itemsPerPage:20,filters:[]},C=(a(85),a(97)),F=function(e){var t=e.book;return r.a.createElement(C.a,{border:"primary"},r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Title,null,t.book_title),r.a.createElement(C.a.Subtitle,{className:"mb-2 text-muted"},t.book_publication_city,", ",t.book_publication_country),r.a.createElement(C.a.Text,null,"Publication Year: ",r.a.createElement("span",{className:"text-info"},t.book_publication_year))))},J=a(99),M=function(e){var t=e.active,a=e.loadPaginatedList,n=[],o=(e.totalPage,function(e){var t=Number(e.target.text);a(t)});for(var c=1;c<10;c++)n.push(r.a.createElement(J.a.Item,{key:c,active:c===t,onClick:o},c));return r.a.createElement(J.a,{className:"float-right"},n)},Q=a(96),U=a(49),Y=a(92),q=function(e){var t=e.searchBooks,a=Object(n.useRef)(null);return r.a.createElement(Q.a,null,r.a.createElement(Q.a.Row,null,r.a.createElement(N.a,{xs:9},r.a.createElement(U.a,{ref:a,type:"text",placeholder:"Search"})),r.a.createElement(N.a,null,r.a.createElement(Y.a,{variant:"outline-primary",onClick:function(){t(a.current.value)}},"Search"))))},z=a(93),G=(a(87),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(z.a,{animation:"border",variant:"warning"}))}),H=function(e){Object(_.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).loadPaginatedList=function(t){t>1&&e.props.navigateTo(t),e.props.fetchBookList({page:t})},e.searchBooks=function(t){var a=e.props.current_page;e.props.fetchBookList({page:a,searchText:t})},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.pageId;e=e?Number(e):1,this.loadPaginatedList(e)}},{key:"render",value:function(){var e=this.props,t=e.isLoaded,a=e.current_page,n=e.books,o=e.count;return r.a.createElement("main",{className:"book-list-container"},r.a.createElement(y.a,null,r.a.createElement(S.a,null,r.a.createElement(N.a,{xs:6},r.a.createElement(q,{searchBooks:this.searchBooks})),r.a.createElement(N.a,null,r.a.createElement(M,{loadPaginatedList:this.loadPaginatedList,active:a,totalPage:o}))),!t&&r.a.createElement(G,null),r.a.createElement(T.a,{in:t,timeout:500,classNames:"content",unmountOnExit:!0},r.a.createElement(P.a,null,n.map((function(e,t){return r.a.createElement(F,{key:t,book:e})}))))))}}]),a}(n.Component),V=Object(l.c)((function(e){return{isLoaded:e.bookList.isLoaded,books:e.bookList.books,current_page:e.bookList.current_page,count:e.bookList.count}}),(function(e){return{navigateTo:function(t){return e(function(e){return function(t){return t(Object(A.d)("/book-list/".concat(e)))}}(t))},fetchBookList:function(t){return e(function(e){var t=e.page,a=e.searchText;return a?K.filters.push({type:"all",values:[a]}):K.filters=[],function(a,n){return a({type:"REQUEST_BOOKS"}),R.post("".concat("http://nyx.vima.ekt.gr:3000","/api/books"),{params:Object(f.a)(Object(f.a)({},K),e)},(function(e,n){a(function(e,t,a){return{type:"BOOKS_LOADED",payload:{data:e,page:t,filters:a}}}(n,t,K.filters))}))}}(t))}}}))(H),W=(a(88),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(y.a,null,r.a.createElement("p",{className:"mb-0 text-white small"},"\xa9 Suvarna Mondal's Test")))});var X=function(e){return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(L,{title:"OnTrack Front End Developer Test"}),r.a.createElement(V,{pageId:e.match.params.pageId}),r.a.createElement(W,null))};a(89);var Z=function(){return r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",component:X}),r.a.createElement(O.a,{path:"/book-list/:pageId",component:X}))};c.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(i.a,{history:h},r.a.createElement(Z,null))),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.2ff8eebf.chunk.js.map